{"ast":null,"code":"import _slicedToArray from \"/home/ubuntu/projects/dashboard-template/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/ubuntu/projects/dashboard-template/src/features/dashboard/views/examples/reports/index.js\";\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\nimport React, { useState, useEffect } from 'react';\nimport Header from '../../../components/Headers/Header'; // reactstrap components\n\nimport { Container, Row } from \"reactstrap\";\nimport ReportHeader from '../../../components/Headers/ReportHeader';\nimport { Field, Form } from 'react-final-form';\nimport { createReport, getRepcats, getReportsByGq, getReportByGq } from '../../../query';\nimport { useMutation, useQuery } from 'react-query';\nimport ReportsList from './ReportsList';\nimport ReportForm from './ReportForm';\n\nvar Reports = function Reports() {\n  var ltu = localStorage.getItem('user');\n\n  var _useState = useState(JSON.parse(ltu) || {}),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setuser = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      repcat = _useState4[0],\n      setrepcat = _useState4[1];\n\n  var repcatdata = useQuery(\"repcats\", getRepcats);\n  useEffect(function () {\n    setuser(JSON.parse(ltu));\n\n    if (repcatdata.data) {\n      setrepcat(repcatdata.data.map(function (item) {\n        return item;\n      }));\n    } else {\n      setrepcat([]);\n    }\n  }, [ltu, repcatdata.data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReportHeader, {\n    user: user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-7\",\n    fluid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, user.role.type === 'authenticated' ? /*#__PURE__*/React.createElement(ReportsList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }) : user.role.type === 'customuserrole' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReportForm, {\n    user: user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null)))));\n};\n\n__signature__(Reports, \"useState{[user, setuser](JSON.parse(ltu) || {})}\\nuseState{[repcat, setrepcat]([])}\\nuseQuery{repcatdata}\\nuseEffect{}\", function () {\n  return [useQuery];\n});\n\nvar _default = Reports;\nexport default _default;\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Reports, \"Reports\", \"/home/ubuntu/projects/dashboard-template/src/features/dashboard/views/examples/reports/index.js\");\n  reactHotLoader.register(_default, \"default\", \"/home/ubuntu/projects/dashboard-template/src/features/dashboard/views/examples/reports/index.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/ubuntu/projects/dashboard-template/src/features/dashboard/views/examples/reports/index.js"],"names":["React","useState","useEffect","Header","Container","Row","ReportHeader","Field","Form","createReport","getRepcats","getReportsByGq","getReportByGq","useMutation","useQuery","ReportsList","ReportForm","Reports","ltu","localStorage","getItem","JSON","parse","user","setuser","repcat","setrepcat","repcatdata","data","map","item","role","type"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,oCAAnB,C,CAGA;;AACA,SACIC,SADJ,EAEIC,GAFJ,QAGO,YAHP;AAIA,OAAOC,YAAP,MAAyB,0CAAzB;AACA,SAASC,KAAT,EAAgBC,IAAhB,QAA4B,kBAA5B;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,cAAnC,EAAmDC,aAAnD,QAAwE,gBAAxE;AACA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,aAAtC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAM;AAElB,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAZ;;AAFkB,kBAGMnB,QAAQ,CAACoB,IAAI,CAACC,KAAL,CAAWJ,GAAX,KAAmB,EAApB,CAHd;AAAA;AAAA,MAGXK,IAHW;AAAA,MAGLC,OAHK;;AAAA,mBAIUvB,QAAQ,CAAC,EAAD,CAJlB;AAAA;AAAA,MAIXwB,MAJW;AAAA,MAIHC,SAJG;;AAOlB,MAAMC,UAAU,GAAGb,QAAQ,CAAC,SAAD,EAAYJ,UAAZ,CAA3B;AAGAR,EAAAA,SAAS,CAAC,YAAM;AACZsB,IAAAA,OAAO,CAACH,IAAI,CAACC,KAAL,CAAWJ,GAAX,CAAD,CAAP;;AAEA,QAAIS,UAAU,CAACC,IAAf,EAAqB;AACjBF,MAAAA,SAAS,CAACC,UAAU,CAACC,IAAX,CAAgBC,GAAhB,CAAoB,UAACC,IAAD,EAAU;AACpC,eAAOA,IAAP;AACH,OAFS,CAAD,CAAT;AAGH,KAJD,MAIO;AACHJ,MAAAA,SAAS,CAAC,EAAD,CAAT;AACH;AACJ,GAVQ,EAUN,CAACR,GAAD,EAAMS,UAAU,CAACC,IAAjB,CAVM,CAAT;AAcA,sBAAO,uDACH,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAEL,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG,eAGH,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,KAAK,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMA,IAAI,CAACQ,IAAL,CAAUC,IAAV,KAAmB,eAApB,gBACG,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,GAEMT,IAAI,CAACQ,IAAL,CAAUC,IAAV,KAAmB,gBAApB,gBAAwC,uDAEtC,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAET,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFsC,CAAxC,gBAGI,yCANd,CADJ,CAFJ,CAHG,CAAP;AAkBH,CA1CD;;cAAMN,O;UAOiBH,Q;;;eAqCRG,O;AAAf;;;;;;;;;;0BA5CMA,O","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from '../../../components/Headers/Header';\r\n\r\n\r\n// reactstrap components\r\nimport {\r\n    Container,\r\n    Row\r\n} from \"reactstrap\";\r\nimport ReportHeader from '../../../components/Headers/ReportHeader';\r\nimport { Field, Form } from 'react-final-form';\r\nimport { createReport, getRepcats, getReportsByGq, getReportByGq } from '../../../query';\r\nimport { useMutation, useQuery } from 'react-query';\r\nimport ReportsList from './ReportsList';\r\nimport ReportForm from './ReportForm';\r\n\r\nconst Reports = () => {\r\n\r\n    const ltu = localStorage.getItem('user');\r\n    const [user, setuser] = useState(JSON.parse(ltu) || {})\r\n    const [repcat, setrepcat] = useState([])\r\n\r\n\r\n    const repcatdata = useQuery(\"repcats\", getRepcats)\r\n\r\n\r\n    useEffect(() => {\r\n        setuser(JSON.parse(ltu))\r\n\r\n        if (repcatdata.data) {\r\n            setrepcat(repcatdata.data.map((item) => {\r\n                return item\r\n            }))\r\n        } else {\r\n            setrepcat([])\r\n        }\r\n    }, [ltu, repcatdata.data]);\r\n\r\n\r\n\r\n    return <>\r\n        <ReportHeader user={user} />\r\n        {/* Page content */}\r\n        <Container className=\"mt-7\" fluid>\r\n            {/* Table */}\r\n            <Row>\r\n                <div className=\"col\">\r\n                    {(user.role.type === 'authenticated') ?\r\n                        <ReportsList />\r\n                        : (user.role.type === 'customuserrole') ? <>\r\n                            {/* <ReportsList /> */}\r\n                            <ReportForm user={user} />\r\n                        </> : <></>}\r\n                </div>\r\n            </Row>\r\n            {/* Dark table */}\r\n        </Container>\r\n    </>\r\n}\r\n\r\nexport default Reports;"]},"metadata":{},"sourceType":"module"}